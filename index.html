<!DOCTYPE html>
<html>
<head>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="styles.css">
	<title>Graph Visualizer</title>
	<style type="text/css">

		* {
			box-sizing: border-box;
		}

		body{
			margin: 0px;
		}

		header {
			margin: 0;
			padding: 0px;
			color: white;
			background-color: #666;
		}

		.toolbar-div button {
			background-color: #666;
			color: white;
			padding: 16px;
			margin: 0;
			font-size: 16px;
			border: none;
		}

		.dropdown-content {
			display: none;
			position: absolute;
			background-color: #f1f1f1;
			min-width: 160px;
			box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
			z-index: 1;
		}

		.dropdown-content a {
			color: black;
			padding: 12px 16px;
			text-decoration: none;
			display: block;
		}

		.dropdown-content a:hover {background-color: #ddd;}

		.dropdown:hover .dropdown-content {display: block;}

		.toolbar-div:hover button {background-color: #3e8e41 !important;}

		.toolbar-div{
			position: relative;
			display: inline-block;
			margin:0;
		}

		#title{
			position: relative;
			display: inline-block;
			margin-left: 10px !important;
		}

		.runbtn{
			background-color: #4CAF50 !important;
		}

		#toolbar-left{
			position: absolute;
			background: #e6e3e3;   
			width: 60px;
			height: 180px; 
  			transform: translate(0, 125%);
			left: 0;
			top: 0;
		}

	</style>
	<!-- <script type="text/javascript" src="graph-algos.js"></script> -->

</head>
<body>
	<header>
		<div id="title" style="margin-left:0;">
			<p><b>Graph Algorithm Visualizer</b></p>
		</div>
		<div class="toolbar-div">
				<button>New Graph</button>
		</div>
		<div class="dropdown toolbar-div">
			<button class="dropbtn">Choose Algorithm &#9662;</button>
			<div class="dropdown-content">
				<a>Dijkstra's</a>
				<a>Breadth First Search</a>
				<a>Depth First Search</a>
				<a>Topological Sort</a>
			</div>
		</div>
		<div class="toolbar-div">
			<button class="runbtn">Run!</button>
		</div>
	</header>
	<div id="toolbar-left">
		<img src="imgs/Node.png" width="60px"></img>
		<img src="imgs/edge.png" width="60px"></img>
		<img src="imgs/move.png" width="60px"></img>
	</div>
	<div id="container">
    <script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-3.7.1/dist/g6.min.js"></script>
    <script>
		const data = {
		nodes: [
			{ id: 'node1', x: 350, y: 200 },
			{ id: 'node2', x: 350, y: 250 },
			{ id: 'node3', x: 100, y: 200 },
			{ id: 'node3', x: 100, y: 230 }
		],
		};
		const descriptionDiv = document.createElement('div');
		descriptionDiv.innerHTML =
		'Click the source and target node to create a new edge.';
		const container = document.getElementById('container');
		container.appendChild(descriptionDiv);

		const width = 1000;
		const height = 1000;
		const graph = new G6.Graph({
		container: 'container',
		width,
		height,
		linkCenter: true,
		modes: {
			default: ['create-edge'],
		},
		defaultEdge: {
			type: 'quadratic',
			style: {
			stroke: '#F6BD16',
			lineWidth: 2
			},
		}
		});

		graph.data(data);
		graph.render();

		graph.on('aftercreateedge', e => {
		const edges = graph.save().edges;
		G6.Util.processParallelEdges(edges);
		graph.getEdges().forEach((edge, i) => {
			graph.updateItem(edge, edges[i])
		})
		})

		if (typeof window !== 'undefined')
		window.onresize = () => {
			if (!graph || graph.get('destroyed')) return;
			if (!container || !container.scrollWidth || !container.scrollHeight) return;
			graph.changeSize(container.scrollWidth, container.scrollHeight - 20);
		};
	</script>
	</div>
</body>
</html>